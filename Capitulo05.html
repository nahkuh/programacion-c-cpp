<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capítulo 5 – Funciones en C</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 40px;
      background-color: #fdfdfd;
      color: #222;
    }
    h1, h2, h3, h4 {
      color: #004d99;
    }
    table {
      border-collapse: collapse;
      margin: 20px 0;
      width: 100%;
    }
    th, td {
      border: 1px solid #999;
      padding: 10px 12px;
      text-align: left;
    }
    th {
      background-color: #e6f2ff;
    }
    pre {
      background-color: #f8f8f8;
      padding: 14px;
      border-left: 4px solid #007acc;
      overflow-x: auto;
      font-family: 'Consolas', monospace;
    }
    .flowchart {
      background-color: #fff;
      padding: 16px;
      border: 1px solid #ddd;
      margin: 20px 0;
      font-family: monospace;
      white-space: pre;
      font-size: 0.95em;
    }
    .note {
      font-style: italic;
      color: #555;
    }
  </style>
</head>
<body>

<h1>Capítulo 5 – Funciones en C</h1>

<h2>1. Módulos y funciones</h2>
<p><strong>Definición 1.</strong> Función: módulo autónomo que realiza una tarea específica.</p>
<p><strong>Definición 2.</strong> Llamada a función: transfiere control al módulo invocado.</p>
<p><strong>Definición 3.</strong> Argumento: valor pasado en la llamada.</p>
<p><strong>Definición 4.</strong> Parámetro formal: variable local que recibe el argumento.</p>

<h2>2. Estructura de una función</h2>
<pre>tipo_retorno nombre(lista) {
    /* cuerpo */
    return expresión;
}</pre>

<h2>3. Prototipos de función</h2>
<p><strong>Definición 5.</strong> Declaración que especifica nombre, tipo de retorno y tipos de parámetros.</p>
<pre>int cuadrado(int y);
void mensaje(void);</pre>

<h2>4. Llamada por valor</h2>
<p><strong>Definición 6.</strong> Se copia el valor del argumento; la función no modifica la variable original.</p>
<p><strong>Regla:</strong> C usa <strong>paso por valor</strong> exclusivamente.</p>

<h2>5. Encabezados estándar</h2>
<table>
  <thead><tr><th>Encabezado</th><th>Propósito</th></tr></thead>
  <tbody>
    <tr><td><code><stdio.h></code></td><td>Entrada/salida</td></tr>
    <tr><td><code><math.h></code></td><td>Funciones matemáticas</td></tr>
    <tr><td><code><stdlib.h></code></td><td>Utilidades (<code>rand</code>, <code>abs</code>)</td></tr>
    <tr><td><code><time.h></code></td><td>Tiempo (<code>time</code>)</td></tr>
  </tbody>
</table>

<h2>6. Funciones matemáticas (<code><math.h></code>)</h2>
<table>
  <thead><tr><th>Función</th><th>Propósito</th></tr></thead>
  <tbody>
    <tr><td><code>sqrt(x)</code></td><td>Raíz cuadrada</td></tr>
    <tr><td><code>exp(x)</code></td><td>\(e^x\)</td></tr>
    <tr><td><code>log(x)</code></td><td>Logaritmo natural</td></tr>
    <tr><td><code>log10(x)</code></td><td>Logaritmo base 10</td></tr>
    <tr><td><code>fabs(x)</code></td><td>Valor absoluto</td></tr>
    <tr><td><code>ceil(x)</code>, <code>floor(x)</code></td><td>Redondeo</td></tr>
    <tr><td><code>pow(x, y)</code></td><td>\(x^y\)</td></tr>
    <tr><td><code>fmod(x, y)</code></td><td>Residuo (punto flotante)</td></tr>
    <tr><td><code>sin(x)</code>, <code>cos(x)</code></td><td>Trigonométricas</td></tr>
  </tbody>
</table>

<h2>7. Números aleatorios</h2>
<pre>#include <stdlib.h>
#include <time.h>

srand(time(NULL));
int n = rand() % 100; // 0 a 99</pre>

<h2>8. Clases de almacenamiento</h2>
<table>
  <thead><tr><th>Clase</th><th>Alcance</th><th>Duración</th><th>Inicialización</th></tr></thead>
  <tbody>
    <tr><td><code>auto</code></td><td>Bloque</td><td>Automática</td><td>Basura</td></tr>
    <tr><td><code>register</code></td><td>Bloque</td><td>Automática</td><td>Basura</td></tr>
    <tr><td><code>static</code></td><td>Bloque/archivo</td><td>Estática</td><td><code>0</code></td></tr>
    <tr><td><code>extern</code></td><td>Archivo/programa</td><td>Estática</td><td><code>0</code></td></tr>
  </tbody>
</table>

<h2>9. Reglas de alcance</h2>
<table>
  <thead><tr><th>Tipo</th><th>Descripción</th></tr></thead>
  <tbody>
    <tr><td><strong>Bloque</strong></td><td>Variables dentro de <code>{}</code></td></tr>
    <tr><td><strong>Archivo</strong></td><td>Variables/funciones globales</td></tr>
    <tr><td><strong>Función</strong></td><td>Etiquetas (<code>case</code>, <code>goto</code>)</td></tr>
    <tr><td><strong>Prototipo</strong></td><td>Nombres en prototipos (ignorados)</td></tr>
  </tbody>
</table>
<p><strong>Regla de ocultamiento:</strong> Identificador interno oculta al externo con mismo nombre.</p>

<h2>10. Recursividad</h2>
<p><strong>Definición 8.</strong> Función que se llama a sí misma.</p>
<p><strong>Requisitos:</strong> caso base + caso recursivo.</p>
<pre>long factorial(long n) {
    if (n <= 1) return 1;
    return n * factorial(n - 1);
}</pre>

<h2>11. Diagramas de flujo</h2>
<h3>Llamada a función</h3>
<div class="flowchart">
       ↓
[Inicio]
       ↓
[Llamar f(x)]
       ↓
[← Cuerpo de f →]
       ↓
[Usar valor retornado]
       ↓
[Fin]
</div>

<h3>Recursión (factorial)</h3>
<div class="flowchart">
       ↓
[n <= 1?] → sí → [return 1]
   ↓ no
[n * factorial(n-1)]
       ↓
(return)
</div>

<h2>12. Ejercicios resueltos</h2>
<h3>Ejercicio R1: Cuadrado</h3>
<pre>
#include <stdio.h>
int cuadrado(int y) { return y * y; }
int main() {
    for (int x = 1; x <= 10; x++)
        printf("%d ", cuadrado(x));
    printf("\n");
    return 0;
}
</pre>

<h3>Ejercicio R2: Máximo</h3>
<pre>
#include <stdio.h>
int maximo(int x, int y, int z) {
    int max = x;
    if (y > max) max = y;
    if (z > max) max = z;
    return max;
}
int main() {
    int a, b, c;
    scanf("%d%d%d", &a, &b, &c);
    printf("El maximo es: %d\n", maximo(a, b, c));
    return 0;
}
</pre>

<h3>Ejercicio R3: Aleatorios</h3>
<pre>
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main() {
    srand(time(NULL));
    for (int i = 1; i <= 5; i++)
        printf("%d ", 1 + rand() % 6);
    printf("\n");
    return 0;
}
</pre>

<h3>Ejercicio R4: Factorial recursivo</h3>
<pre>
#include <stdio.h>
long factorial(long n) {
    if (n <= 1) return 1;
    return n * factorial(n - 1);
}
int main() {
    for (int i = 0; i <= 10; i++)
        printf("%2d! = %ld\n", i, factorial(i));
    return 0;
}
</pre>

<h3>Ejercicio R5: Fibonacci recursivo</h3>
<pre>
#include <stdio.h>
long fibonacci(long n) {
    if (n == 0 || n == 1) return n;
    return fibonacci(n - 1) + fibonacci(n - 2);
}
int main() {
    long n;
    scanf("%ld", &n);
    printf("Fibonacci(%ld) = %ld\n", n, fibonacci(n));
    return 0;
}
</pre>

<h2>13. Ejercicios propuestos</h2>
<ol>
  <li><strong>5.16:</strong> Función iterativa <code>potenciaInt(base, exponente)</code>.</li>
  <li><strong>5.17:</strong> Función <code>multiplo(a, b)</code>.</li>
  <li><strong>5.18:</strong> Función <code>impar(n)</code> usando operador módulo.</li>
  <li><strong>5.19:</strong> Función que imprime cuadrado de asteriscos de lado <code>n</code>.</li>
  <li><strong>5.25:</strong> Función que devuelve el menor de tres <code>float</code>.</li>
  <li><strong>5.30:</strong> Función <code>puntosCalidad(promedio)</code>.</li>
  <li><strong>5.37:</strong> Función recursiva <code>potencia(base, exponente)</code>.</li>
  <li><strong>5.29:</strong> Función iterativa <code>mcd(a, b)</code>.</li>
  <li><strong>5.28:</strong> Función que invierte dígitos de un entero.</li>
  <li><strong>5.42:</strong> Función recursiva <code>mcd(a, b)</code>.</li>
</ol>

</body>
</html>