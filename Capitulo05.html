<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capítulo 5 – Funciones en C</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 40px;
      background-color: #fdfdfd;
      color: #222;
    }
    h1, h2, h3, h4 {
      color: #004d99;
    }
    table {
      border-collapse: collapse;
      margin: 20px 0;
      width: 100%;
    }
    th, td {
      border: 1px solid #999;
      padding: 10px 12px;
      text-align: left;
    }
    th {
      background-color: #e6f2ff;
    }
    pre {
      background-color: #f8f8f8;
      padding: 14px;
      border-left: 4px solid #007acc;
      overflow-x: auto;
      font-family: 'Consolas', monospace;
    }
    .flowchart {
      background-color: #fff;
      padding: 16px;
      border: 1px solid #ddd;
      margin: 20px 0;
      font-family: monospace;
      white-space: pre;
      font-size: 0.95em;
    }
    .note {
      font-style: italic;
      color: #555;
    }
  </style>
</head>
<body>

<h1>Capítulo 5 – Funciones en C</h1>

<h2>1. Conceptos fundamentales</h2>
<p><strong>Definición 1 (Función).</strong> Módulo autónomo que realiza una tarea específica.</p>
<p><strong>Definición 2 (Llamada a función).</strong> Transfiere control a la función; al terminar, devuelve el control.</p>
<p><strong>Definición 3 (Parámetro formal).</strong> Variable local en la cabecera de la función.</p>
<p><strong>Definición 4 (Argumento).</strong> Valor pasado en la llamada.</p>

<h2>2. Estructura de una función</h2>
<pre>tipo_retorno nombre(lista) {
    /* cuerpo */
    return expresión;
}</pre>

<h2>3. Clases de funciones</h2>
<table>
  <thead><tr><th>Tipo</th><th>Devuelve valor</th><th>Uso</th></tr></thead>
  <tbody>
    <tr><td>Con retorno</td><td>Sí</td><td>Cálculos</td></tr>
    <tr><td>Sin retorno (<code>void</code>)</td><td>No</td><td>Efectos secundarios</td></tr>
  </tbody>
</table>

<h2>4. Prototipos de función</h2>
<p><strong>Definición 5.</strong> Declaración que especifica nombre, tipo de retorno y tipos de parámetros.</p>
<pre>int cubo(int n);
void mensaje(void);</pre>

<h2>5. Paso de parámetros</h2>
<p>C usa <strong>paso por valor</strong>: se copia el argumento. No se modifican variables del llamador.</p>

<h2>6. Alcance y duración</h2>
<h3>Clases de almacenamiento</h3>
<table>
  <thead><tr><th>Clase</th><th>Alcance</th><th>Duración</th><th>Inicialización</th></tr></thead>
  <tbody>
    <tr><td><code>auto</code></td><td>Bloque</td><td>Automática</td><td>Basura</td></tr>
    <tr><td><code>register</code></td><td>Bloque</td><td>Automática</td><td>Basura</td></tr>
    <tr><td><code>static</code></td><td>Bloque/archivo</td><td>Estática</td><td><code>0</code></td></tr>
    <tr><td><code>extern</code></td><td>Archivo/programa</td><td>Estática</td><td><code>0</code></td></tr>
  </tbody>
</table>

<h3>Variables locales vs. globales</h3>
<table>
  <thead><tr><th>Característica</th><th>Local</th><th>Global</th></tr></thead>
  <tbody>
    <tr><td>Declaración</td><td>Dentro de función</td><td>Fuera de funciones</td></tr>
    <tr><td>Alcance</td><td>Solo en función</td><td>Todo el programa</td></tr>
    <tr><td>Duración</td><td>Llamada</td><td>Ejecución completa</td></tr>
    <tr><td>Inicialización</td><td>No automática</td><td><code>0</code></td></tr>
  </tbody>
</table>

<h2>7. Funciones recursivas</h2>
<p><strong>Definición 6.</strong> Función que se llama a sí misma.</p>
<p>Requiere: <strong>caso base</strong> y <strong>caso recursivo</strong>.</p>
<pre>unsigned long factorial(unsigned int n) {
    if (n <= 1) return 1;
    return n * factorial(n - 1);
}</pre>

<h2>8. Encabezados estándar</h2>
<table>
  <thead><tr><th>Encabezado</th><th>Propósito</th></tr></thead>
  <tbody>
    <tr><td><code><stdio.h></code></td><td>Entrada/salida</td></tr>
    <tr><td><code><math.h></code></td><td>Funciones matemáticas</td></tr>
    <tr><td><code><stdlib.h></code></td><td>Utilidades (<code>rand</code>, <code>abs</code>)</td></tr>
    <tr><td><code><time.h></code></td><td>Tiempo (<code>time</code>)</td></tr>
  </tbody>
</table>

<h2>9. Funciones matemáticas (<code><math.h></code>)</h2>
<table>
  <thead><tr><th>Función</th><th>Propósito</th></tr></thead>
  <tbody>
    <tr><td><code>sqrt(x)</code></td><td>Raíz cuadrada</td></tr>
    <tr><td><code>pow(x, y)</code></td><td>\(x^y\)</td></tr>
    <tr><td><code>fabs(x)</code></td><td>Valor absoluto</td></tr>
    <tr><td><code>ceil(x)</code>, <code>floor(x)</code></td><td>Redondeo</td></tr>
    <tr><td><code>sin(x)</code>, <code>cos(x)</code></td><td>Trigonométricas</td></tr>
  </tbody>
</table>

<h2>10. Números aleatorios</h2>
<pre>#include <stdlib.h>
#include <time.h>

srand(time(NULL));
int n = rand() % 100; // 0 a 99</pre>

<h2>11. Diagramas de flujo</h2>
<h3>Llamada a función</h3>
<div class="flowchart">
       ↓
[Inicio]
       ↓
[Llamar f(x)]
       ↓
[← Cuerpo de f →]
       ↓
[Usar valor retornado]
       ↓
[Fin]
</div>

<h3>Recursión (factorial)</h3>
<div class="flowchart">
       ↓
[n <= 1?] → sí → [return 1]
   ↓ no
[n * factorial(n-1)]
       ↓
(return)
</div>

<h2>12. Ejercicios resueltos</h2>
<h3>Ejercicio R1: Cubo</h3>
<pre>
#include <stdio.h>
int cubo(int n) { return n * n * n; }
int main() {
    printf("El cubo de 3 es %d\n", cubo(3));
    return 0;
}
</pre>

<h3>Ejercicio R2: void</h3>
<pre>
#include <stdio.h>
void imprimir_mensaje(void) {
    printf("Hola desde una función!\n");
}
int main() {
    imprimir_mensaje();
    return 0;
}
</pre>

<h3>Ejercicio R3: Recursión</h3>
<pre>
#include <stdio.h>
unsigned long factorial(unsigned int n) {
    return (n <= 1) ? 1 : n * factorial(n - 1);
}
int main() {
    printf("5! = %lu\n", factorial(5));
    return 0;
}
</pre>

<h3>Ejercicio R4: Aleatorios</h3>
<pre>
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main() {
    srand(time(NULL));
    for (int i = 1; i <= 5; i++)
        printf("%d ", rand() % 100);
    printf("\n");
    return 0;
}
</pre>

<h2>13. Ejercicios propuestos</h2>
<ol>
  <li><strong>5.14:</strong> Función recursiva <code>enteroPotencia(base, exponente)</code>.</li>
  <li><strong>5.15:</strong> Función <code>múltiplo(a, b)</code> que devuelva 1 si <code>a</code> es múltiplo de <code>b</code>.</li>
  <li><strong>5.18:</strong> Función <code>par(n)</code> usando operador módulo.</li>
  <li><strong>5.20:</strong> Función que imprima un cuadrado de asteriscos de lado <code>n</code>.</li>
  <li><strong>5.24:</strong> Función recursiva <code>suma(n)</code> del 1 a <code>n</code>.</li>
  <li><strong>5.27:</strong> Función <code>calidad(ventas)</code> para salario de vendedor.</li>
  <li><strong>5.30:</strong> Función <code>minimo(a, b, c)</code>.</li>
  <li><strong>5.33:</strong> Función recursiva <code>fibonacci(n)</code>.</li>
  <li><strong>5.36:</strong> Función <code>hipotenusa(a, b)</code> usando <code><math.h></code>.</li>
  <li><strong>5.40:</strong> Función <code>calidad_dado()</code> que simule lanzamiento de dado.</li>
</ol>

</body>
</html>